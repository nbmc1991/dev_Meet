(this["webpackJsonpmern-passport-template-client"]=this["webpackJsonpmern-passport-template-client"]||[]).push([[0],{111:function(e,t,a){},123:function(e,t,a){},127:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a(35),n=a(50),r=a(41),i=a(16),l=a(64),o=a.n(l),j="GET_ERRORS",d="USER_LOADING",b="SET_CURRENT_USER",h={isAuthenticated:!1,user:{},resetSuccess:!1,loading:!1},u={},p=function(e){var t,a=Object.keys(e),s=Object.values(e),c={};return a.forEach((function(e,a){t=Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},e,s[a][1]))})),s.forEach((function(e,t){c=Object(i.a)(Object(i.a)({},c),{},Object(r.a)({},a[t],e[0]))})),[function(e,t){var s=!1,n={},r={};return a.forEach((function(a,i){var l=c[a],o=e[a];r=l(o,t),s=s||r!==o,n[a]=r})),s?n:e},t]}({auth:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!o()(t.payload),user:t.payload});case d:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});default:return e}},h],error:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload;default:return e}},u]}),m=a(3),x=Object(s.createContext)();function O(e){var t=Object(s.useReducer)(p[0],p[1]),a=Object(n.a)(t,2),c={state:a[0],dispatch:a[1]};return Object(m.jsx)(x.Provider,{value:c,children:e.children})}a(92);var f=a(13),g=a(11),v=a(48),w=a.n(v),N=a(29),y=a.n(N),_=function(e){e?y.a.defaults.headers.common.Authorization=e:delete y.a.defaults.headers.common.Authorization},S=function(e){return{type:b,payload:e}},k=function(e){return{type:j,payload:e.response.data}},R=function(e){return function(t){localStorage.removeItem("jwtToken"),_(!1),t(S({})),e.push("/login")}},C=(a(111),function(e){var t=Object(s.useContext)(x).state;return console.log({state:t,props:e}),Object(m.jsx)("div",{className:"container valign-wrapper",style:{height:"75vh"},children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col s12 center-align",children:[Object(m.jsx)("h4",{children:Object(m.jsxs)("p",{className:"flow-text grey-text text-darken-1",children:["Swipe Right to CONNECT. Swipe Left to see NEXT."," "," ",Object(m.jsx)("span",{style:{fontFamily:"monospace"},children:"dev-Meet."})]})}),Object(m.jsx)("p",{className:"flow-text grey-text text-darken-1",children:"Make lasting connections with Developers like you!"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"col s6",children:Object(m.jsx)(f.b,{to:"/register",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},children:"Register"})}),Object(m.jsx)("div",{className:"col s6",children:Object(m.jsx)(f.b,{to:"/login",className:"btn btn-large btn-flat waves-effect white black-text",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},children:"Login"})})]})})})}),E=a(30),F=a.n(E),T=function(e){var t=Object(s.useContext)(x),a=t.state,c=t.dispatch,n=a.error,r=Object(s.useRef)(),i=Object(s.useRef)(),l=Object(s.useRef)(),o=Object(s.useRef)();Object(s.useEffect)((function(){a.auth.isAuthenticated&&e.history.push("/dashboard")}),[a,e]);return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col s8 offset-s2",children:[Object(m.jsxs)(f.b,{to:"/",className:"btn-flat waves-effect",children:[Object(m.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(m.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(m.jsxs)("h4",{children:[Object(m.jsx)("b",{children:"Register"})," below"]}),Object(m.jsxs)("p",{className:"grey-text text-darken-1",children:["Already have an account? ",Object(m.jsx)(f.b,{to:"/login",children:"Login"})]})]}),Object(m.jsxs)("form",{noValidate:!0,onSubmit:function(t){t.preventDefault(),c(k({response:{data:{}}})),function(e,t){return function(a){a(k({response:{data:{}}})),y.a.post("/api/auth/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a(k(e))}))}}({name:r.current.value,email:i.current.value,password:l.current.value,password2:o.current.value},e.history)(c)},children:[Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:r,error:n.name,name:"name",type:"text",className:F()("",{invalid:n.name})}),Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("span",{className:"red-text",children:n.name})]}),Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:i,error:n.email,name:"email",type:"email",className:F()("",{invalid:n.email})}),Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("span",{className:"red-text",children:n.email})]}),Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:l,error:n.password,name:"password",type:"password",className:F()("",{invalid:n.password})}),Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("span",{className:"red-text",children:n.password})]}),Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:o,error:n.password2,name:"password2",type:"password",className:F()("",{invalid:n.password2})}),Object(m.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(m.jsx)("span",{className:"red-text",children:n.password2})]}),Object(m.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(m.jsx)("button",{className:"btn btn-large waves-effect waves-light hoverable blue accent-3",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",children:"Sign Up"})})]})]})})})},B=function(e){var t=Object(s.useContext)(x),a=t.state,c=t.dispatch,n=a.error,r=Object(s.useRef)(),i=Object(s.useRef)();Object(s.useEffect)((function(){a.auth.isAuthenticated&&e.history.push("/dashboard")}),[a,e]);return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",style:{marginTop:"4rem"},children:Object(m.jsxs)("div",{className:"col s8 offset-s2",children:[Object(m.jsxs)(f.b,{to:"/",className:"btn-flat waves-effect",children:[Object(m.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(m.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(m.jsxs)("h4",{children:[Object(m.jsx)("b",{children:"Login"})," below"]}),Object(m.jsxs)("p",{className:"grey-text text-darken-1",children:["Don't have an account? ",Object(m.jsx)(f.b,{to:"/register",children:"Register"})]})]}),Object(m.jsxs)("form",{noValidate:!0,onSubmit:function(t){t.preventDefault(),c(k({response:{data:{}}})),function(e,t){return function(a){a(k({response:{data:{}}})),y.a.post("/api/auth/login",e).then((function(e){var s=e.data.token;localStorage.setItem("jwtToken",s),_(s);var c=w()(s);a(S(c)),t.push("/")})).catch((function(e){return a(k(e))}))}}({email:r.current.value,password:i.current.value},e.history)(c)},children:[Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:r,error:n.incorrect,name:"email",type:"email",className:F()("",{invalid:n.incorrect})}),Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("span",{className:"red-text",children:n.incorrect})]}),Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("input",{ref:i,error:n.incorrect,name:"password",type:"password",className:F()("",{invalid:n.incorrect})}),Object(m.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(m.jsx)("div",{className:"col s12",children:Object(m.jsx)("span",{className:"red-text",children:n.message})}),Object(m.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(m.jsx)("button",{className:"btn btn-large waves-effect waves-light hoverable blue accent-3",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",children:"Login"})})]})]})})})},A=a(82),L=function(e){var t=e.component,a=Object(A.a)(e,["component"]),c=Object(s.useContext)(x).state;return Object(m.jsx)(g.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return!0===c.auth.isAuthenticated?Object(m.jsx)(t,Object(i.a)({},e)):Object(m.jsx)(g.a,{to:"/login"})}}))},M=a(66),D=a.n(M),z=(a(123),a(81).a.initializeApp({apiKey:"AIzaSyAnvoJr3ptNZMeOxxT34KdXfLObFXKUi4M",authDomain:"dev-meet-12fc7.firebaseapp.com",projectId:"dev-meet-12fc7",storageBucket:"dev-meet-12fc7.appspot.com",messagingSenderId:"803799037238",appId:"1:803799037238:web:7802e96393fca715386f97",measurementId:"G-BN7L34P1RY"}).firestore());var P=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)((function(){var e=z.collection("people").onSnapshot((function(e){return c(e.docs.map((function(e){return e.data()})))}));return function(){e()}}),[]),Object(m.jsx)("div",{className:"devCards__cardContainer",children:a.map((function(e){return Object(m.jsx)(D.a,{className:"swipe",preventSwipe:["up","down"],children:Object(m.jsx)("div",{className:"card",style:{backgroundImage:"url(".concat(e.url,")")},children:Object(m.jsx)("h3",{children:e.name})})},e.name)}))})},I=(a(127),a(73)),U=a.n(I),V=a(74),X=a.n(V),G=a(75),H=a.n(G),J=a(76),K=a.n(J),Y=a(77),Z=a.n(Y),q=a(153);var Q=function(){return Object(m.jsxs)("div",{className:"swipeButtons",children:[Object(m.jsx)(q.a,{className:"swipeButtons__repeat",children:Object(m.jsx)(U.a,{fontSize:"large"})}),Object(m.jsx)(q.a,{className:"swipeButtons__left",children:Object(m.jsx)(X.a,{fontSize:"large"})}),Object(m.jsx)(q.a,{className:"swipeButtons__star",children:Object(m.jsx)(H.a,{fontSize:"large"})}),Object(m.jsx)(q.a,{className:"swipeButtons__right",children:Object(m.jsx)(K.a,{fontSize:"large"})}),Object(m.jsx)(q.a,{className:"swipeButtons__lightning",children:Object(m.jsx)(Z.a,{fontSize:"large"})})]})},W={getUser:function(){return y.a.get("/api/users/me")}},$=function(e){var t=Object(s.useContext)(x),a=t.state,c=t.dispatch;a.auth.user;Object(s.useEffect)((function(){a.auth.isAuthenticated||e.history.push("/login"),W.getUser().then((function(e){return console.log({res:e})})).catch((function(e){return console.log({err:e})}))}),[a,e]);return Object(m.jsxs)("div",{className:"container valign-wrapper",style:{height:"30vh"},children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col s12 center-align",children:[Object(m.jsx)("button",{className:"btn btn-large waves-effect waves-light hoverable blue accent-3",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:function(t){t.preventDefault(),R(e.history)(c)},children:"Logout"}),Object(m.jsx)(P,{})]})}),Object(m.jsx)(Q,{})]})},ee=a(79),te=a.n(ee),ae=a(80),se=a.n(ae),ce=(a(133),a(78)),ne=a.n(ce);var re=function(e){var t=e.backButton,a=Object(g.g)();return Object(m.jsxs)("div",{className:"header",children:[t?Object(m.jsx)(q.a,{onClick:function(){return a.replace(t)},children:Object(m.jsx)(ne.a,{fontSize:"large",className:"header__icon"})}):Object(m.jsx)(q.a,{children:Object(m.jsx)(te.a,{className:"header__icon",fontSize:"large"})}),Object(m.jsx)(f.b,{to:"dashboard",children:Object(m.jsx)(q.a,{children:Object(m.jsx)("img",{className:"header__logo",src:"https://previews.123rf.com/images/glopphy/glopphy1707/glopphy170700031/82240324-heart-love-teamwork-united-people-business-card-icon-logo-vector-image.jpg",alt:"devmeetlogo"})})}),Object(m.jsx)(f.b,{to:"/chat",children:Object(m.jsx)(q.a,{children:Object(m.jsx)(se.a,{className:"header__icon",fontSize:"large"})})})]})},ie=a(152),le=(a(134),a(154));a(135);var oe=function(e){var t=e.name,a=e.message,s=e.profilePic,c=e.timestamp;return Object(m.jsxs)("div",{className:"chat",children:[Object(m.jsx)(le.a,{className:"chat__image",alt:t,src:s}),Object(m.jsxs)("div",{className:"chat__details",children:[Object(m.jsx)("h3",{children:t}),Object(m.jsx)("p",{children:a})]}),Object(m.jsx)("p",{className:"chat__timestamp",children:c})]})};var je=function(){return Object(m.jsxs)("div",{className:"chats",children:[Object(m.jsx)(oe,{name:"Brat",message:"Hi there thanks for the add!",timestamp:"5 seconds ago",profilePic:"https://m.media-amazon.com/images/M/MV5BMjA1MjE2MTQ2MV5BMl5BanBnXkFtZTcwMjE5MDY0Nw@@._V1_UX214_CR0,0,214,317_AL_.jpg"}),Object(m.jsx)(oe,{name:"Maluma",message:"Hola como estas?",timestamp:"34 seconds ago",profilePic:"https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F20%2F2020%2F04%2F24%2Fmaluma-1.jpg"}),Object(m.jsx)(oe,{name:"Angelina",message:"Let's work together!",timestamp:"1 days ago",profilePic:"https://www.biography.com/.image/ar_4:3%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTE5NDg0MDU1MDE2MDgwOTEx/angelina-jolie-9356782-1-402.jpg"}),Object(m.jsx)(oe,{name:"Leonardo",message:"Hello finally great to meat you!",timestamp:"3 days ago",profilePic:"https://media.vanityfair.com/photos/56450849eccc21966e939ea5/2:3/w_572,h_858,c_limit/leonardo-dicaprio-birthday.jpg"})]})},de=function(){var e=Object(s.useContext)(x).dispatch;return Object(s.useEffect)((function(){if(localStorage.jwtToken){var t=localStorage.jwtToken,a=w()(t),s=Date.now()/1e3;_(t),e(S(a)),a.exp<s&&(e(R()),window.location.href="./login")}}),[e]),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(f.a,{children:Object(m.jsxs)(ie.a,{maxWidth:"lg",children:[Object(m.jsxs)(g.d,{children:[Object(m.jsxs)(g.b,{exact:!0,path:"/chat",children:[Object(m.jsx)(re,{backButton:"/dashboard"}),Object(m.jsx)(je,{})]}),Object(m.jsx)(g.b,{exact:!0,path:"/register",component:T}),Object(m.jsx)(g.b,{exact:!0,path:"/login",component:B}),Object(m.jsx)(g.b,{exact:!0,path:"/",component:C}),Object(m.jsx)(re,{})]}),Object(m.jsx)(L,{exact:!0,path:"/dashboard",component:$})]})})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,155)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};Object(c.render)(Object(m.jsx)(O,{children:Object(m.jsx)(de,{})}),document.getElementById("root")),be()},92:function(e,t,a){}},[[136,1,2]]]);
//# sourceMappingURL=main.e98160c7.chunk.js.map